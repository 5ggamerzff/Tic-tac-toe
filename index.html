<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tic Tac Toe</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet">
  <style>
    :root {
      --naught: hsl(210, 100%, 70%); /* blue for O */
      --naught-alpha: hsla(210, 100%, 70%, 0.5);
      --cross: hsl(0, 100%, 70%); /* red for X */
      --cross-alpha: hsla(0, 100%, 70%, 0.5);
      --line: hsl(210, 100%, 50%); /* darker blue for grid lines */
    }

    body {
      background-color: black;
      color: white;
      font-family: 'Orbitron', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    #home, #game {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #home {
      display: block;
    }

    #game {
      display: none;
    }

    h1 {
      color: var(--cross);
      text-align: center;
      filter: drop-shadow(0 0 5px var(--cross)) drop-shadow(0 0 10px var(--cross)) drop-shadow(0 0 15px var(--cross));
    }

    #startButton, #restartButton {
      padding: 10px 20px;
      font-size: 24px;
      background-color: transparent;
      color: var(--naught);
      border: 2px solid var(--naught);
      border-radius: 10px;
      cursor: pointer;
      filter: drop-shadow(0 0 5px var(--naught)) drop-shadow(0 0 10px var(--naught)) drop-shadow(0 0 15px var(--naught));
      margin-top: 20px;
    }

    #restartButton {
      color: var(--cross);
      border-color: var(--cross);
      filter: drop-shadow(0 0 5px var(--cross)) drop-shadow(0 0 10px var(--cross)) drop-shadow(0 0 15px var(--cross));
    }

    .back-arrow {
      font-size: 36px;
      color: white;
      cursor: pointer;
      margin-bottom: 20px;
      filter: drop-shadow(0 0 5px white);
    }

    #board {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1vmin;
      width: 90vmin;
      height: 90vmin;
      margin: auto;
    }

    .square {
      width: 100%;
      height: 100%;
      border: 5px solid var(--line);
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      box-shadow: 0 0 10px var(--line), 0 0 20px var(--line);
    }

    .symbol {
      width: 100%;
      height: 100%;
    }

    .symbol.x {
      --stroke: var(--cross);
      --alpha: var(--cross-alpha);
      filter: drop-shadow(0 -0.25vmin 0.25vmin hsl(0, 10%, 0%)) drop-shadow(0 0 0.5vmin var(--alpha)) drop-shadow(0 0 1vmin var(--alpha)) drop-shadow(0 0 5vmin var(--stroke) brightness(1.2));
    }

    .symbol.o {
      --stroke: var(--naught);
      --alpha: var(--naught-alpha);
      filter: drop-shadow(0 -0.25vmin 0.25vmin hsl(0, 10%, 0%)) drop-shadow(0 0 0.5vmin var(--alpha)) drop-shadow(0 0 1vmin var(--alpha)) drop-shadow(0 0 5vmin var(--stroke) brightness(1.2));
    }

    #endMessage {
      color: white;
      text-align: center;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div id="home">
    <h1>Tic Tac Toe</h1>
    <button id="startButton">Start Game</button>
  </div>
  <div id="game" style="display: none;">
    <div class="back-arrow" id="backArrow">‚Üê</div>
    <div id="board">
      <div class="square" id="square0"></div>
      <div class="square" id="square1"></div>
      <div class="square" id="square2"></div>
      <div class="square" id="square3"></div>
      <div class="square" id="square4"></div>
      <div class="square" id="square5"></div>
      <div class="square" id="square6"></div>
      <div class="square" id="square7"></div>
      <div class="square" id="square8"></div>
    </div>
    <h2 id="endMessage"></h2>
    <button id="restartButton">Restart</button>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const board = document.getElementById('board');
      const squares = document.querySelectorAll('.square');
      const players = ['X', 'O'];
      let currentPlayer = players[0];
      const endMessage = document.getElementById('endMessage');
      const restartButton = document.getElementById('restartButton');
      const winningCombos = [
        [0,1,2], [3,4,5], [6,7,8],
        [0,3,6], [1,4,7], [2,5,8],
        [0,4,8], [2,4,6]
      ];

      function checkWin(currentPlayer) {
        return winningCombos.some(combo => {
          return combo.every(index => {
            return squares[index].dataset.player === currentPlayer;
          });
        });
      }

      function checkTie() {
        return Array.from(squares).every(square => square.dataset.player);
      }

      function addSymbol(square, player) {
        let svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        svg.setAttribute("class", `symbol ${player.toLowerCase()}`);
        svg.setAttribute("viewBox", "0 0 100 100");
        if (player === 'X') {
          let line1 = document.createElementNS("http://www.w3.org/2000/svg", "line");
          line1.setAttribute("x1", "10");
          line1.setAttribute("y1", "10");
          line1.setAttribute("x2", "90");
          line1.setAttribute("y2", "90");
          line1.setAttribute("stroke", "var(--cross)");
          line1.setAttribute("stroke-width", "10");
          svg.appendChild(line1);
          let line2 = document.createElementNS("http://www.w3.org/2000/svg", "line");
          line2.setAttribute("x1", "90");
          line2.setAttribute("y1", "10");
          line2.setAttribute("x2", "10");
          line2.setAttribute("y2", "90");
          line2.setAttribute("stroke", "var(--cross)");
          line2.setAttribute("stroke-width", "10");
          svg.appendChild(line2);
        } else if (player === 'O') {
          let circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
          circle.setAttribute("cx", "50");
          circle.setAttribute("cy", "50");
          circle.setAttribute("r", "40");
          circle.setAttribute("fill", "none");
          circle.setAttribute("stroke", "var(--naught)");
          circle.setAttribute("stroke-width", "10");
          svg.appendChild(circle);
        }
        square.appendChild(svg);
        square.dataset.player = player;
      }

      squares.forEach(square => {
        square.addEventListener('click', function() {
          if (this.dataset.player || endMessage.textContent) return;
          addSymbol(this, currentPlayer);
          if (checkWin(currentPlayer)) {
            endMessage.textContent = `${currentPlayer} wins!`;
          } else if (checkTie()) {
            endMessage.textContent = "It's a tie!";
          } else {
            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
            endMessage.textContent = `${currentPlayer}'s turn!`;
          }
        });
      });

      restartButton.addEventListener('click', function() {
        squares.forEach(square => {
          square.innerHTML = '';
          delete square.dataset.player;
        });
        currentPlayer = players[0];
        endMessage.textContent = `${currentPlayer}'s turn!`;
      });

      document.getElementById('startButton').addEventListener('click', function() {
        document.getElementById('home').style.display = 'none';
        document.getElementById('game').style.display = 'flex';
        currentPlayer = players[0];
        endMessage.textContent = `${currentPlayer}'s turn!`;
      });

      document.getElementById('backArrow').addEventListener('click', function() {
        document.getElementById('game').style.display = 'none';
        document.getElementById('home').style.display = 'block';
      });
    });
  </script>
</body>
</html>